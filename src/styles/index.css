@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

body {
    font-family: 'Inter', sans-serif;
}

.scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
}

.gradient-title {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.gradient-accent {
    background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 50%, #8b5cf6 100%);
}

.sortable-ghost {
    opacity: 0.4;
    background: rgba(99, 102, 241, 0.1);
}

.sortable-drag {
    opacity: 0.9;
}

/* ==========================
   TeleScribe Assist: 変数ハイライト用スタイル
   - 入力やプレビューの文字入力を阻害せず、視覚的に {{...}} を強調表示
   ========================== */

/**
 * 変数トークンの視覚表現
 * - 背景色と枠線で {{...}} を強調
 */
.tsa-var-token {
    background-color: rgba(250, 246, 59, 0.15); /* 既存: 未入力（黄系） */
    outline: 1px solid rgba(250, 230, 59, 0.45); /* borderの代わりにoutlineでレイアウト非影響 */
    outline-offset: -1px; /* ボックス境界上に描画 */
    border-radius: 0.25rem; /* rounded */
    padding: 0.15rem 0; /* x-0.5 相当 */
}

/**
 * 変数「値」用トークン（完了＝緑系）
 * - 値が設定された変数由来のテキストに適用
 */
.tsa-var-token.tsa-var-value {
    background-color: rgba(34, 197, 94, 0.12); /* green-500 の淡い背景 */
    outline-color: rgba(34, 197, 94, 0.35);    /* 緑のアウトライン */
}

/**
 * 未入力フィールド強調（文節/プレビューと同系の黄色アウトライン）
 * - 値が未入力のときに付与して視認性を高める
 */
.tsa-input-empty {
    outline: 2px solid rgba(250, 230, 59, 0.55);
}

/**
 * オーバーレイコンテナ
 * - 入力上に重ねるハイライトレイヤー
 */
.tsa-overlay-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
}

/**
 * オーバーレイコンテンツ（単行入力用）
 * - インプットのスクロールに追従させる
 */
.tsa-overlay-content {
    white-space: pre; /* 改行なし、スペース保持 */
    color: #e5e7eb;   /* text-gray-200 相当 */
    font: inherit;
    letter-spacing: inherit;
}

/**
 * オーバーレイコンテンツ（複数行テキスト用）
 * - テキストエリアの折り返しに一致
 */
.tsa-overlay-content.multiline {
    white-space: pre-wrap;      /* 改行・スペース維持 */
    overflow-wrap: break-word;  /* 長い単語の折返し */
    word-break: break-word;     /* 非標準だが多くのブラウザで有効 */
}

/**
 * 入力テキストを透明化し、キャレットのみ表示
 * - 背景は透過、文字はオーバーレイに描画
 */
.tsa-overlay-input {
    color: transparent !important;
    background: transparent !important;
    caret-color: #ffffff; /* 白いキャレット */
}

/**
 * プレースホルダーは可視のままにする
 */
.tsa-overlay-input::placeholder {
    color: #9ca3af; /* text-gray-400 */
    opacity: 1;
}

/* ==========================
   テーマ切り替え: ライトテーマ上書き
   - body に .theme-light を付与して有効化
   - Tailwind カラークラスの代表色を !important で上書き
   ========================== */

.theme-light {
    /* ベース背景・テキスト */
    background-color: #f8fafc !important; /* 近い: bg-slate-50 */
    color: #38393d !important; /* 近い: text-slate-900 */
}

.theme-light .bg-gray-900 { background-color: #f8fafc !important; }
.theme-light .bg-gray-800 { background-color: #ffffff !important; }
.theme-light .bg-gray-700 { background-color: #f1f5f9 !important; }
.theme-light .bg-gray-600 { background-color: #e2e8f0 !important; }
.theme-light .text-gray-100 { color: #0f172a !important; }
.theme-light .text-gray-200 { color: #334155 !important; }
.theme-light .text-gray-300 { color: #334155 !important; }
.theme-light .text-gray-400 { color: #475569 !important; }
.theme-light .text-white { color: #0f172a !important; }
.theme-light .hover\:bg-white\/10:hover { background-color: rgba(0,0,0,0.06) !important; }
.theme-light .hover\:bg-gray-600:hover { background-color: #e2e8f0 !important; }
.theme-light .hover\:bg-gray-700:hover { background-color: #e2e8f0 !important; }
.theme-light .border-gray-700 { border-color: #e2e8f0 !important; }
.theme-light .border-gray-600 { border-color: #cbd5e1 !important; }
.theme-light .hover\:text-white:hover { color: #0f172a !important; }

/* 入力やテキストエリア（プレースホルダ/キャレット） */
.theme-light .tsa-overlay-input { caret-color: #0f172a !important; }
.theme-light .tsa-overlay-input::placeholder { color: #64748b !important; }
/* 通常の入力/テキストエリアのプレースホルダーも明色向けに */
.theme-light input::placeholder,
.theme-light textarea::placeholder { color: #94a3b8 !important; }

/* グラデーションの明色寄り調整 */
.theme-light .gradient-title {
    background: linear-gradient(135deg, #93c5fd 0%, #c084fc 100%) !important;
    color: #0f172a !important;
}

.theme-light .gradient-accent {
    background: linear-gradient(135deg, #67e8f9 0%, #60a5fa 50%, #a78bfa 100%) !important;
    color: #0f172a !important;
}

/* セッションカード等（bg-gray-700 →明色） */
.theme-light .bg-gray-700 { background-color: #f8fafc !important; }

/* トースト（ダーク背景 → 明色背景） */
.theme-light .border-green-400 { border-color: #10b981 !important; }
.theme-light .bg-gray-800\/95 { background-color: rgba(255, 255, 255, 0.95) !important; color: #0f172a !important; }
.theme-light .bg-gray-800 { background-color: #ffffff !important; }
.theme-light .bg-gray-700 { background-color: #f1f5f9 !important; }

/* CTAなど濃色ボタン上の文字は白を維持 */
.theme-light .bg-blue-600,
.theme-light .bg-blue-700,
.theme-light .bg-purple-600,
.theme-light .bg-purple-700,
.theme-light .bg-green-600,
.theme-light .bg-green-700,
.theme-light .bg-red-600,
.theme-light .bg-red-700 { color: #ffffff !important; }

/* 変数ハイライトの可読性維持（薄黄色はそのまま） */
.theme-light .tsa-overlay-content { color: #334155 !important; }

/* ライトモード用スクロールバーの視認性向上 */
.theme-light .scrollbar-thin {
    /* Firefox */
    scrollbar-width: thin;
    scrollbar-color: rgba(100, 116, 139, 0.5) rgba(15, 23, 42, 0.08);
}
.theme-light .scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(15, 23, 42, 0.08);
}
.theme-light .scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgba(100, 116, 139, 0.5);
    border-radius: 3px;
}
.theme-light .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgba(100, 116, 139, 0.65);
}

/* ==========================
   横スクロール（スクロールバー非表示）
   - 候補Chipの水平リスト表示用
   ========================== */
.tsa-scroll-x {
    overflow-x: auto;
    white-space: nowrap;
    -ms-overflow-style: none; /* IE/Edge */
    scrollbar-width: none; /* Firefox */
}
.tsa-scroll-x::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}